<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Warhammer Tabletop Style Game</title>
    <style>
        body {
            background-color: #111;
            color: #fff;
            font-family: Arial, sans-serif;
            text-align: center;
            margin: 0;
            padding: 0;
        }
        #menu {
            position: absolute;
            top: 10px;
            left: 10px;
            background: rgba(0, 0, 0, 0.7);
            padding: 10px;
            border: 1px solid #fff;
        }
        #canvas {
            border: 2px solid #fff;
            background: #222;
        }
        button, select {
            margin: 5px;
            padding: 5px;
        }
    </style>
</head>
<body>
    <div id="menu">
        <select id="legionSelect">
            <option value="">Select Your Legion</option>
            <option value="Dark Angels">Dark Angels (Green)</option>
            <option value="Emperor's Children">Emperor's Children (Purple)</option>
            <option value="Iron Warriors">Iron Warriors (Gray)</option>
            <option value="White Scars">White Scars (White)</option>
            <option value="Space Wolves">Space Wolves (LightBlue)</option>
            <option value="Imperial Fists">Imperial Fists (Yellow)</option>
            <option value="Night Lords">Night Lords (DarkBlue)</option>
            <option value="Blood Angels">Blood Angels (Red)</option>
            <option value="Iron Hands">Iron Hands (Black)</option>
            <option value="World Eaters">World Eaters (DarkRed)</option>
            <option value="Ultramarines">Ultramarines (Blue)</option>
            <option value="Death Guard">Death Guard (Olive)</option>
            <option value="Thousand Sons">Thousand Sons (RoyalBlue)</option>
            <option value="Sons of Horus">Sons of Horus (SeaGreen)</option>
            <option value="Word Bearers">Word Bearers (Crimson)</option>
            <option value="Salamanders">Salamanders (DarkGreen)</option>
            <option value="Raven Guard">Raven Guard (MidnightBlue)</option>
            <option value="Alpha Legion">Alpha Legion (Teal)</option>
        </select>
        <button onclick="startGame()">Start Game</button>
    </div>
    <canvas id="canvas" width="800" height="600"></canvas>

    <script>
        // Define all legions with unique colors
        const legions = [
            { name: "Dark Angels", color: "green" },
            { name: "Emperor's Children", color: "purple" },
            { name: "Iron Warriors", color: "gray" },
            { name: "White Scars", color: "white" },
            { name: "Space Wolves", color: "lightblue" },
            { name: "Imperial Fists", color: "yellow" },
            { name: "Night Lords", color: "darkblue" },
            { name: "Blood Angels", color: "red" },
            { name: "Iron Hands", color: "black" },
            { name: "World Eaters", color: "darkred" },
            { name: "Ultramarines", color: "blue" },
            { name: "Death Guard", color: "olive" },
            { name: "Thousand Sons", color: "royalblue" },
            { name: "Sons of Horus", color: "seagreen" },
            { name: "Word Bearers", color: "crimson" },
            { name: "Salamanders", color: "darkgreen" },
            { name: "Raven Guard", color: "midnightblue" },
            { name: "Alpha Legion", color: "teal" }
        ];

        // Define villains (Traitor Primarchs and key figures as examples)
        const villains = [
            { name: "Horus", color: "black" },
            { name: "Angron", color: "darkred" },
            { name: "Magnus", color: "magenta" },
            { name: "Mortarion", color: "darkolivegreen" },
            { name: "Fulgrim", color: "violet" },
            { name: "Perturabo", color: "slategray" },
            { name: "Lorgar", color: "maroon" },
            { name: "Konrad Curze", color: "navy" },
            { name: "Alpharius", color: "darkcyan" },
            { name: "Abaddon", color: "dimgray" },
            { name: "Kharn", color: "firebrick" },
            { name: "Ahriman", color: "indigo" },
            { name: "Lucius", color: "orchid" },
            { name: "Typhus", color: "darkkhaki" },
            { name: "Fabius Bile", color: "plum" }
        ];

        // Define towns/cities on the map
        const towns = [
            { name: "Terra", x: 100, y: 100 },
            { name: "Macragge", x: 200, y: 300 },
            { name: "Calth", x: 400, y: 150 },
            { name: "Nocturne", x: 600, y: 400 },
            { name: "Fenris", x: 300, y: 500 },
            { name: "Baal", x: 500, y: 200 },
            { name: "Deliverance", x: 700, y: 100 },
            { name: "Olympia", x: 150, y: 400 },
            { name: "Prospero", x: 350, y: 250 },
            { name: "Barbarus", x: 550, y: 350 }
        ];

        // Game state
        let selectedLegion = null;
        let unitPositions = {}; // To store positions of legions and villains

        function startGame() {
            const canvas = document.getElementById('canvas');
            const ctx = canvas.getContext('2d');

            selectedLegion = document.getElementById('legionSelect').value;
            if (!selectedLegion) {
                alert('Please select a legion!');
                return;
            }

            // Clear canvas
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // Draw map background (simple grid)
            ctx.strokeStyle = '#555';
            const gridSize = 50;
            for (let x = 0; x <= canvas.width; x += gridSize) {
                ctx.beginPath();
                ctx.moveTo(x, 0);
                ctx.lineTo(x, canvas.height);
                ctx.stroke();
            }
            for (let y = 0; y <= canvas.height; y += gridSize) {
                ctx.beginPath();
                ctx.moveTo(0, y);
                ctx.lineTo(canvas.width, y);
                ctx.stroke();
            }

            // Draw towns/cities
            towns.forEach(town => {
                ctx.fillStyle = 'brown';
                ctx.fillRect(town.x - 20, town.y - 20, 40, 40);
                ctx.fillStyle = 'white';
                ctx.font = '12px Arial';
                ctx.fillText(town.name, town.x - 20, town.y - 25);
            });

            // Place legions and villains randomly on the map
            unitPositions = {};
            [...legions, ...villains].forEach(unit => {
                const x = Math.floor(Math.random() * (canvas.width - 50)) + 25;
                const y = Math.floor(Math.random() * (canvas.height - 50)) + 25;
                unitPositions[unit.name] = { x, y };
                drawUnit(ctx, unit, x, y);
            });

            // Add click event for simple interaction (move selected legion's unit)
            canvas.onclick = (e) => {
                if (selectedLegion) {
                    const rect = canvas.getBoundingClientRect();
                    const clickX = e.clientX - rect.left;
                    const clickY = e.clientY - rect.top;
                    // Move selected legion to click position (simple tabletop move simulation)
                    unitPositions[selectedLegion] = { x: clickX, y: clickY };
                    // Redraw everything
                    ctx.clearRect(0, 0, canvas.width, canvas.height);
                    // Redraw grid
                    for (let x = 0; x <= canvas.width; x += gridSize) {
                        ctx.beginPath();
                        ctx.moveTo(x, 0);
                        ctx.lineTo(x, canvas.height);
                        ctx.stroke();
                    }
                    for (let y = 0; y <= canvas.height; y += gridSize) {
                        ctx.beginPath();
                        ctx.moveTo(0, y);
                        ctx.lineTo(canvas.width, y);
                        ctx.stroke();
                    }
                    // Redraw towns
                    towns.forEach(town => {
                        ctx.fillStyle = 'brown';
                        ctx.fillRect(town.x - 20, town.y - 20, 40, 40);
                        ctx.fillStyle = 'white';
                        ctx.fillText(town.name, town.x - 20, town.y - 25);
                    });
                    // Redraw units
                    [...legions, ...villains].forEach(unit => {
                        const pos = unitPositions[unit.name];
                        drawUnit(ctx, unit, pos.x, pos.y);
                    });
                }
            };
        }

        function drawUnit(ctx, unit, x, y) {
            ctx.fillStyle = unit.color;
            ctx.beginPath();
            ctx.arc(x, y, 10, 0, 2 * Math.PI);
            ctx.fill();
            ctx.fillStyle = 'white';
            ctx.font = '10px Arial';
            ctx.fillText(unit.name, x - 20, y - 15);
        }
    </script>
</body>
</html>
